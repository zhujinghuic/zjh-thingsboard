package org.thingsboard.server.transport.ps.util;

import cn.hutool.core.util.HexUtil;

import javax.imageio.stream.FileImageOutputStream;
import java.io.*;
import java.time.LocalDate;

public class TestHexToJpg {

    /**
     * 将十六进制字符串转化成图片
     */
    public static void hexToImage(String hexString) {
        String filePath = "D://ps_photos/" + System.currentTimeMillis() + ".jpeg";
        byte[] bytes = HexUtil.decodeHex(hexString);
//        String h = HexUtil.
        try {
            FileImageOutputStream imageOutput = new FileImageOutputStream(new File(filePath));
            imageOutput.write(bytes, 0, bytes.length);
            imageOutput.close();
        } catch (Exception ex) {
            ex.printStackTrace();
        }
    }


    public static void main(String[] args) {
        String hex = "FFD8FFE10FFE45786966000049492A0008000000050012010300010000000100000032010200140000004A0000000F010200400000005E00000010010200400000009E0000006987040001000000DE000000F8BAF9AB323031362D31312D323800000000000000000000C9D0F6CEBABDB5E7D7D3BFC6BCBCD3D0CFDEB9ABCBBE0000000000000000000000000000000000000000000000000000000000000000000000000000000000007378682D4C314E0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C009A82050001000000740100009D820500010000007C01000027880300010000006400000001920A00010000008401000003920A00010000008C01000004920A0001000000940100000792030001000000000000000992030001000000000000000A920500010000009C01000002A40300010000000000000003A40300010000000000000004A4050001000000A40100000000000005000000E8030000160000000A0000002E03000064000000EC01000064000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
//        String hex = "FF DB";
        hexToImage(hex);
    }
}
